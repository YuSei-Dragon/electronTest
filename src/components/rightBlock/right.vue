<template>
    <div ref="rightBlock" class="rightBlock">
        <rightTop :item="item" :long="rightBlockWidth"/>
        <rightMen :item="item" :height="rightBlockMenHeight" :memberList="memberList"/>
        <rightTest :item="item" :long="rightBlockWidth" :height="rightBlockMenHeight" :RandomMesList="RandomMesList"/>
        <rightInput :item="item" :long="rightBlockWidth" @initMes="initMes"/>
    </div>
</template>
<script>
import rightTop from "./rightTop"
import rightTest from "./rightTest"
import rightMen from "./rightMen"
import rightInput from "./rightInput"
export default {
  name: 'HelloWorld',
  props: {
    item:{
        default:()=>({}),
        type:Object,
    }
  },
  watch:{
    "$store.state.initMes":function(newV){
      console.log("æ£€æµ‹åˆ°åˆå§‹åŒ–æ•°æ®memberList/chatDetailå˜åŒ–")
      if(newV.memberList){
        this.memberList = newV.memberList
      }
      if(newV.chatDetail){
        this.RandomMesList = newV.chatDetail
      }
      if(newV.urlList){
        console.log("æ”¹å˜äº†urlList")
        this.$store.commit("setUrlList",newV.urlList)
      }
      
    }
  },
  components:{
    rightTop,
    rightTest,
    rightMen,
    rightInput,
  },
  data() {
    return {
      rightBlockWidth : 0,
      rightBlockMenHeight : 0,
      memberList:[],
      RandomMesList:[
          "ä»Šå¤©çš„OAä¸æ˜¾ç¤ºéªŒè¯ç å‘¢",
          "ç¨ç­‰ï¼Œæˆ‘ä»¬æ£€æŸ¥ä¸‹",
          "è¿˜æ˜¯æ²¡æœ‰æ˜¾ç¤ºéªŒè¯ç ",
          "å„ä½åŒäº‹ï¼ŒOAæ‰€åœ¨å¤©ç¿¼äº‘PaaSæœ‰ç‚¹é—®é¢˜ï¼Œç›®å‰æ­£åœ¨æ‰¾å¹³å°æ–¹å¤„ç†ï¼Œæ¢å¤ä¹‹åç¬¬ä¸€æ—¶é—´åœ¨ç¾¤é‡Œé€šçŸ¥",
          "å„ä½åŒäº‹ï¼ŒOAå·²æ¢å¤æ­£å¸¸ï¼Œè¯·å¤§å®¶æ­£å¸¸ä½¿ç”¨~",
          "OAç‚¹å‡»ç™»å½• ä¸€è‡´è·³è½¬è‡³ç™»å½•ç•Œé¢",
          "å…·ä½“æœ‰ä»€ä¹ˆæç¤ºå—ï¼Œè¯·ç§å‘æˆ‘ä¸‹",
          "æ‰“å°å¯¼å‡ºPDFæŠ¥é”™äº†ï¼Œ",
          "@æå…°  ",
          "å¥½çš„ï¼Œæˆ‘ä»¬æ£€æŸ¥ä¸‹",
          "æœ¬æœŸæ¨æ–‡ä¸å¤§å®¶åˆ†äº«çš„æ˜¯ğŸ‘‰ä»¥æ•°å­—å­ªç”ŸæŠ€æœ¯æ¨åŠ¨ç½‘ç»œèµ„æºç®¡ç†å‡çº§ğŸ‘ˆã€‚æ•°å­—å­ªç”Ÿä½œä¸ºä¸€ç§æ–°å…´çš„æŠ€æœ¯æ‰‹æ®µï¼Œé€šè¿‡å¯¹å„ç§æ•°å­—è¦ç´ ã€æ•°æ®åœºæ™¯è¿›è¡Œè™šå®äº¤äº’å’Œæ¨¡æ‹Ÿä»¿çœŸï¼Œæ„å»ºå‡ºä¸ç°å®å¯¹åº”çš„â€œè™šæ‹Ÿç©ºé—´â€ï¼Œè¾…åŠ©æå‡å†³ç­–æ•ˆç‡ï¼Œæå‡ç®¡ç†æ•ˆç‡ï¼ä¸€èµ·æ¥çœ‹ä¸€ä¸‹æ•°å­—å­ªç”ŸæŠ€æœ¯å¦‚ä½•èµ‹èƒ½èµ„æºç®¡ç†!",
          "@æ‰€æœ‰äºº  ",
          "OAç½‘é¡µé“¾æ¥è¶…æ—¶ï¼Œè¿™æ˜¯ä»€ä¹ˆé—®é¢˜å•Šï¼ŒVPNæ˜¯è¿ç€çš„",
          "è®¿é—®OAä¸è¦æŒ‚VPNï¼Œä¼šå†²çª",
          "ç™»å½•é¡µé¢åè·³è½¬ä¸è¿‡å»ï¼Œä¹Ÿæ²¡æœ‰ä»»ä½•çš„æç¤º",
          "å…·ä½“æœ‰ä»€ä¹ˆæç¤ºå—ï¼Œè¯·ç§å‘æˆ‘ä¸‹",
          "ç¨ç­‰ï¼Œæˆ‘ä»¬æ£€æŸ¥ä¸‹",
          "è¿˜æ˜¯æ²¡æœ‰æ˜¾ç¤ºéªŒè¯ç ",
          "å„ä½åŒäº‹ï¼ŒOAæ‰€åœ¨å¤©ç¿¼äº‘PaaSæœ‰ç‚¹é—®é¢˜ï¼Œç›®å‰æ­£åœ¨æ‰¾å¹³å°æ–¹å¤„ç†ï¼Œæ¢å¤ä¹‹åç¬¬ä¸€æ—¶é—´åœ¨ç¾¤é‡Œé€šçŸ¥",
          "å„ä½åŒäº‹ï¼ŒOAå·²æ¢å¤æ­£å¸¸ï¼Œè¯·å¤§å®¶æ­£å¸¸ä½¿ç”¨~",
        ]
    }
  },
  mounted(){
    window.addEventListener('resize',this.change)
  },
  beforeDestroy(){
    window.removeEventListener('resize',this.change)
  },
  methods:{
    change(){
      const width = this.$refs.rightBlock.offsetWidth
      const height = this.$refs.rightBlock.offsetHeight
      this.rightBlockWidth = width
      this.rightBlockMenHeight = height-64
      // console.log("change")
    },
    initMes(data){
      console.log("å½•å…¥æ•°æ®")
      this.memberList = data.memberList
    }
  }
}
</script>
<style scoped >
   .rightBlock{
    width: 100%;
    height: 100%;
    float: left;
    background: #F6F6F7;
  }
</style>